# Интеграции и БД 

## Точка входа

Точка входа в приложение - это файл main.py, который запускает FastAPI сервер.

## Эндпоинты

Приложение предоставляет следующие эндпоинты:

- POST /trees: Получает количество деревьев в определенном городе и году.
- GET /most_common_city: Возвращает город с наибольшим количеством записей в базе данных.

## Работа с базой данных PostgreSQL

Проект взаимодействует с PostgreSQL для выполнения следующих операций:

- Создание и инициализация таблиц через SQL скрипты.
- Вставка лога запроса в таблицу requests_log.
- Исполнение хранимой процедуры most_common_city, которая вычисляет город с наибольшим количеством запросов.

## Хранимая процедура

Проект использует хранимую процедуру most_common_city, которая вычисляет город, который встречается наиболее часто в запросах, хранящихся в базе данных.


Файл .env, использует шаблон .env.example:

        DATABASE_URL="postgresql://user:password@localhost/dbname"
        INIT_SQL =  
        INIT_PROC =
        CALL_PROC =